+ cc kern/init.c
+ ld obj/kern/kernel
+ mk obj/kern/kernel.img
dumbfork: 
$ make run-dumbfork-nox-gdb QEMUEXTRA+=-snapshot
OK (1.7s) 
    (Old jos.out.dumbfork failure log removed)
Part A score: 5/5

faultread: 
$ make run-faultread-nox-gdb QEMUEXTRA+=-snapshot
OK (0.8s) 
faultwrite: 
$ make run-faultwrite-nox-gdb QEMUEXTRA+=-snapshot
OK (1.0s) 
faultdie: 
$ make run-faultdie-nox-gdb QEMUEXTRA+=-snapshot
FAIL (1.1s) 
    AssertionError: ...
           cs   0x----001b
           flag 0x00000096
           esp  0xeebfdf48
           ss   0x----0023
         qemu: terminating on signal 15 from pid 11614
    MISSING 'i faulted at va deadbeef, err 6'
    MISSING '.00001000. exiting gracefully'
    MISSING '.00001000. free env 00001000'
    
    QEMU output saved to jos.out.faultdie
faultregs: 
$ make run-faultregs-nox-gdb QEMUEXTRA+=-snapshot
FAIL (2.1s) 
    AssertionError: ...
           cs   0x----001b
           flag 0x00000096
           esp  0xeebfdf48
           ss   0x----0023
         qemu: terminating on signal 15 from pid 11711
    MISSING 'Registers in UTrapframe OK'
    MISSING 'Registers after page-fault OK'
    
    QEMU output saved to jos.out.faultregs
faultalloc: 
$ make run-faultalloc-nox-gdb QEMUEXTRA+=-snapshot
FAIL (0.9s) 
    AssertionError: ...
           cs   0x----001b
           flag 0x00000096
           esp  0xeebfdf48
           ss   0x----0023
         qemu: terminating on signal 15 from pid 11808
    MISSING 'fault deadbeef'
    MISSING 'this string was faulted in at deadbeef'
    MISSING 'fault cafebffe'
    MISSING 'fault cafec000'
    MISSING 'this string was faulted in at cafebffe'
    MISSING '.00001000. exiting gracefully'
    MISSING '.00001000. free env 00001000'
    
    QEMU output saved to jos.out.faultalloc
faultallocbad: 
$ make run-faultallocbad-nox-gdb QEMUEXTRA+=-snapshot
FAIL (1.9s) 
    AssertionError: ...
           cs   0x----001b
           flag 0x00000096
           esp  0xeebfdf48
           ss   0x----0023
         qemu: terminating on signal 15 from pid 11905
    MISSING '.00001000. user_mem_check assertion failure for va deadbeef'
    MISSING '.00001000. free env 00001000'
    
    QEMU output saved to jos.out.faultallocbad
faultnostack: 
$ make run-faultnostack-nox-gdb QEMUEXTRA+=-snapshot
FAIL (1.1s) 
    AssertionError: ...
           esp  0xeebfdf98
           ss   0x----0023
    GOOD [00001000] free env 00001000
         page_remove start, va = 200000
         PDX(va) = 0, pgdir[0] = 86027, ptpa = 86000
    ...
         sched_halt start
         No runnable environments in the system!
         Welcome to the JOS kernel monitor!
         Type 'help' for a list of commands.
         qemu: terminating on signal 15 from pid 12002
    MISSING '.00001000. user_mem_check assertion failure for va eebfff..'
    
    QEMU output saved to jos.out.faultnostack
faultbadhandler: 
$ make run-faultbadhandler-nox-gdb QEMUEXTRA+=-snapshot
FAIL (2.0s) 
    AssertionError: ...
           esp  0xeebfdf98
           ss   0x----0023
    GOOD [00001000] free env 00001000
         page_remove start, va = 200000
         PDX(va) = 0, pgdir[0] = 86027, ptpa = 86000
    ...
         sched_halt start
         No runnable environments in the system!
         Welcome to the JOS kernel monitor!
         Type 'help' for a list of commands.
         qemu: terminating on signal 15 from pid 12099
    MISSING '.00001000. user_mem_check assertion failure for va (deadb|eebfe)...'
    
    QEMU output saved to jos.out.faultbadhandler
faultevilhandler: 
$ make run-faultevilhandler-nox-gdb QEMUEXTRA+=-snapshot
FAIL (2.1s) 
    AssertionError: ...
           esp  0xeebfdf98
           ss   0x----0023
    GOOD [00001000] free env 00001000
         page_remove start, va = 200000
         PDX(va) = 0, pgdir[0] = 86027, ptpa = 86000
    ...
         sched_halt start
         No runnable environments in the system!
         Welcome to the JOS kernel monitor!
         Type 'help' for a list of commands.
         qemu: terminating on signal 15 from pid 12196
    MISSING '.00001000. user_mem_check assertion failure for va (f0100|eebfe)...'
    
    QEMU output saved to jos.out.faultevilhandler
forktree: 
$ make run-forktree-nox-gdb QEMUEXTRA+=-snapshot
FAIL (1.9s) 
    AssertionError: ...
           cs   0x----001b
           flag 0x00000096
           esp  0xeebfded8
           ss   0x----0023
         qemu: terminating on signal 15 from pid 12293
    MISSING '....: I am .0.'
    MISSING '....: I am .1.'
    MISSING '....: I am .000.'
    MISSING '....: I am .100.'
    MISSING '....: I am .110.'
    MISSING '....: I am .111.'
    MISSING '....: I am .011.'
    MISSING '....: I am .001.'
    MISSING '.00001000. exiting gracefully'
    MISSING '.00001001. exiting gracefully'
    MISSING '.0000200.. exiting gracefully'
    MISSING '.0000200.. free env 0000200.'
    
    QEMU output saved to jos.out.forktree
Part B score: 10/50

spin: 
$ make run-spin-nox-gdb QEMUEXTRA+=-snapshot
FAIL (2.1s) 
    AssertionError: ...
         alloc_flags = 1, set value of pgva = 0
         set page = f0374440 pp_link to NULL
    GOOD [00000000] new env 00001000
         load_icode start
         ph = f02dba94, eph = f02dbaf4
    ...
         syscall start
         *pte = 74067, pte_perm = 7, perm = 5
    GOOD I am the parent.  Forking the child...
         syscall end, return value = 0
         env_run start
    ...
           cs   0x----001b
           flag 0x00000096
           esp  0xeebfdf48
           ss   0x----0023
         qemu: terminating on signal 15 from pid 12390
    MISSING '.00001000. new env 00001001'
    MISSING 'I am the parent.  Running the child...'
    MISSING 'I am the child.  Spinning...'
    MISSING 'I am the parent.  Killing the child...'
    MISSING '.00001000. destroying 00001001'
    MISSING '.00001000. free env 00001001'
    MISSING '.00001000. exiting gracefully'
    MISSING '.00001000. free env 00001000'
    
    QEMU output saved to jos.out.spin
stresssched: 
$ make run-stresssched-nox-gdb CPUS=4 QEMUEXTRA+=-snapshot
FAIL (2.1s) 
    AssertionError: ...
           cs   0x----001b
           flag 0x00000096
           esp  0xeebfdf48
           ss   0x----0023
         qemu: terminating on signal 15 from pid 12487
    MISSING '.000010... stresssched on CPU 0'
    MISSING '.000010... stresssched on CPU 1'
    MISSING '.000010... stresssched on CPU 2'
    MISSING '.000010... stresssched on CPU 3'
    
    QEMU output saved to jos.out.stresssched
sendpage: 
$ make run-sendpage-nox-gdb CPUS=2 QEMUEXTRA+=-snapshot
FAIL (2.1s) 
    AssertionError: ...
         alloc_flags = 1, set value of pgva = 0
         set page = f0374440 pp_link to NULL
    GOOD [00000000] new env 00001000
         load_icode start
         ph = f02cb073, eph = f02cb0d3
    ...
           cs   0x----001b
           flag 0x00000096
           esp  0xeebfdf38
           ss   0x----0023
         qemu: terminating on signal 15 from pid 12584
    MISSING '.00001000. new env 00001001'
    MISSING '1000 got message: hello child environment! how are you?'
    MISSING 'child received correct message'
    MISSING '1001 got message: hello parent environment! I'm good'
    MISSING 'parent received correct message'
    MISSING '.00001000. exiting gracefully'
    MISSING '.00001000. free env 00001000'
    MISSING '.00001001. exiting gracefully'
    MISSING '.00001001. free env 00001001'
    
    QEMU output saved to jos.out.sendpage
pingpong: 
$ make run-pingpong-nox-gdb CPUS=4 QEMUEXTRA+=-snapshot
FAIL (1.9s) 
    AssertionError: ...
         alloc_flags = 1, set value of pgva = 0
         set page = f0374440 pp_link to NULL
    GOOD [00000000] new env 00001000
         load_icode start
         ph = f02fcdc7, eph = f02fce27
    ...
           cs   0x----001b
           flag 0x00000092
           esp  0xeebfdf28
           ss   0x----0023
         qemu: terminating on signal 15 from pid 12681
    MISSING '.00001000. new env 00001001'
    MISSING 'send 0 from 1000 to 1001'
    MISSING '1001 got 0 from 1000'
    MISSING '1000 got 1 from 1001'
    MISSING '1001 got 8 from 1000'
    MISSING '1000 got 9 from 1001'
    MISSING '1001 got 10 from 1000'
    MISSING '.00001000. exiting gracefully'
    MISSING '.00001000. free env 00001000'
    MISSING '.00001001. exiting gracefully'
    MISSING '.00001001. free env 00001001'
    
    QEMU output saved to jos.out.pingpong
primes: 
$ make run-primes-nox-gdb CPUS=4 QEMUEXTRA+=-snapshot
FAIL (2.1s) 
    AssertionError: ...
         alloc_flags = 1, set value of pgva = 0
         set page = f0374440 pp_link to NULL
    GOOD [00000000] new env 00001000
         load_icode start
         ph = f031e1ba, eph = f031e21a
    ...
         syscall start
         *pte = 74067, pte_perm = 7, perm = 5
         [00001000] user panic in <unknown> at lib/fork.c:81: syscall end, return value = 0
         env_run start
         qemu: terminating on signal 15 from pid 12778
    MISSING '.00001000. new env 00001001'
    MISSING 'CPU .: 2 .00001001. new env 00001002'
    MISSING 'CPU .: 3 .00001002. new env 00001003'
    MISSING 'CPU .: 5 .00001003. new env 00001004'
    MISSING 'CPU .: 7 .00001004. new env 00001005'
    MISSING 'CPU .: 11 .00001005. new env 00001006'
    MISSING 'CPU .: 1877 .00001120. new env 00001121'
    
    QEMU output saved to jos.out.primes
Part C score: 0/25

Score: 15/80
