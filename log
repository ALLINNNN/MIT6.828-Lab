+ cc kern/pmap.c
+ ld obj/kern/kernel
+ mk obj/kern/kernel.img
***
*** Use Ctrl-a x to exit qemu
***
qemu-system-i386 -nographic -drive file=obj/kern/kernel.img,index=0,media=disk,format=raw -serial mon:stdio -gdb tcp::26000 -D qemu.log 
6828 decimal is 15254 octal!
Physical memory: 131072K available, base = 640K, extended = 130432K
nextfree initialize as f0123000
addr = f0123000, n = 4096, number of page = 1, nextfree = f0124000
UVPT = ef400000, PDX(UVPT) = 3bd, PADDR = 123000
nextfree initialize as f0124000
addr = f0124000, n = 4096, number of page = 1, nextfree = f0125000
nextfree initialize as f0125000
addr = f0125000, n = 262144, number of page = 64, nextfree = f0165000
sizeof(PageInfo) = 8, pages = f0125000, npages = 32768
initialise pageinfo to 0 end
nextfree initialize as f0165000
addr = f0165000, n = 0
page_init start
nextfree initialize as f0165000
addr = f0165000, n = 0
io start = 160, io end = 256, u start = 256, u end = 357, ps_end = f0165000
preserve 0 page
page_init end
check page free list, page_free_list = f0126ff8
nextfree initialize as f0165000
addr = f0165000, n = 0
check page free list, first free page = f0165000
check_page_free_list() succeeded!
check page free list end
alloc three pages
alloc start
page addr = f0126ff8, free_list->next = f0126ff0
page = f0126ff8, pgva = f03ff000
set page = f0126ff8 pp_link to NULL
alloc end
alloc start
page addr = f0126ff0, free_list->next = f0126fe8
page = f0126ff0, pgva = f03fe000
set page = f0126ff0 pp_link to NULL
alloc end
alloc start
page addr = f0126fe8, free_list->next = f0126fe0
page = f0126fe8, pgva = f03fd000
set page = f0126fe8 pp_link to NULL
alloc end
set free_list = 0
alloc start
has no page to allocate
free pages
alloc three pages
alloc start
page addr = f0126fe8, free_list->next = f0126ff0
page = f0126fe8, pgva = f03fd000
set page = f0126fe8 pp_link to NULL
alloc end
alloc start
next is NULL
page addr = f0126ff0, free_list->next = f0126ff8
page = f0126ff0, pgva = f03fe000
set page = f0126ff0 pp_link to NULL
alloc end
alloc start
page addr = f0126ff8, free_list->next = 0
page = f0126ff8, pgva = f03ff000
set page = f0126ff8 pp_link to NULL
alloc end
alloc start
has no page to allocate
test flags
alloc start
page addr = f0126fe8, free_list->next = 0
page = f0126fe8, pgva = f03fd000
alloc_flags = 1, set value of pgva = 0
set page = f0126fe8 pp_link to NULL
alloc end
check_page_alloc() succeeded!
check page alloc end
alloc start
page addr = f0126ff8, free_list->next = f0126ff0
page = f0126ff8, pgva = f03ff000
set page = f0126ff8 pp_link to NULL
alloc end
alloc start
page addr = f0126ff0, free_list->next = f0126fe8
page = f0126ff0, pgva = f03fe000
set page = f0126ff0 pp_link to NULL
alloc end
alloc start
page addr = f0126fe8, free_list->next = f0126fe0
page = f0126fe8, pgva = f03fd000
set page = f0126fe8 pp_link to NULL
alloc end
alloc start
has no page to allocate
page_lookup start, va = 0, pte_store = f011ffbc
pgdir_walk start
pgdir_walk, ptpa = 0, PDX(va) = 0
pgdir_walk, did not find pdr for va = 0, return NULL
page_lookup, pte = 0, *pte = f000ff53
page_insert start, pp = f0126ff0, va = 0
pgdir_walk start
pgdir_walk, ptpa = 0, PDX(va) = 0
pgdir_walk, did not find pdr for va = 0, return NULL
page_insert, pt = 0, ptpa = 0
page_insert, there is no page table for va, create one and adds it to the pgdir
alloc start
has no page to allocate
page_insert, alloc page for pt failure
free pp0 and try again: pp0 should be used for page table
page_insert start, pp = f0126ff0, va = 0
pgdir_walk start
pgdir_walk, ptpa = 0, PDX(va) = 0
pgdir_walk, did not find pdr for va = 0, return NULL
page_insert, pt = 0, ptpa = 0
page_insert, there is no page table for va, create one and adds it to the pgdir
alloc start
page addr = f0126ff8, free_list->next = 0
page = f0126ff8, pgva = f03ff000
alloc_flags = 1, set value of pgva = 0
set page = f0126ff8 pp_link to NULL
alloc end
page_insert, alloc page = 3ff000 for pt
page_insert, PDX(va) = 0, pgdir[0] = 3ff007
page_insert, insert page = 3fe000 to pt for va = 0
PTX(va) = 0, pt[0] = 3fe003
page_free, pp = f0126ff0, pre = 0
pp = f0126ff0, pp_ref = 1
page_insert end
should be able to map pp2 at PGSIZE because pp0 is already allocated for page table
page_insert start, pp = f0126fe8, va = 1000
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_insert, pt = 3ff007, ptpa = 3ff000
page_insert, there is page table = 3ff000 for va = 1000, PTE_ADDR(pte) = f03ff000
page_insert, insert page = 3fd000 to pt for va = 1000
PTX(va) = 1, pt[1] = 3fd003
page_free, pp = f0126fe8, pre = 0
pp = f0126fe8, pp_ref = 1
page_insert end
should be no free memory
alloc start
has no page to allocate
should be able to map pp2 at PGSIZE because it's already there
pp2 = f0126fe8
page_insert start, pp = f0126fe8, va = 1000
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_insert, pt = 3ff007, ptpa = 3ff000
page_insert, there is page table = 3ff000 for va = 1000, PTE_ADDR(pte) = f03ff000
page_insert, the page mapped at va has page = 3fd003, remove it
page_remove start, va = 1000
PDX(va) = 0, pgdir[0] = 3ff007, ptpa = 3ff000
page_remove, pagelookup start, pgdir = f0123000, va = 1000
page_lookup start, va = 1000, pte_store = 0
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_lookup, pte = f03ff004, *pte = 3fd003
page_lookup, temp = 3fd003, pg = f0126fe8
page_lookup end
page_remove, va = 1000 corrsponding with pgInfo = f0126fe8
page_remove, pt = f03ff000, ptepa = 3fd000
page_remove, ptepa = 3fd000 is not NULL, set pte to 0
page_decref start, pp = f0126fe8, ref = 1
page_decref end, pp = f0126fe8, ref = 0
page_remove end
page_insert, insert page = 3fd000 to pt for va = 1000
PTX(va) = 1, pt[1] = 3fd003
page_free, pp = f0126fe8, pre = f0126fe8
page_free, find pp == pre
pp = f0126fe8, pp_ref = 1
page_insert end
alloc start
has no page to allocate
check that pgdir_walk returns a pointer to the pte
ptep = f03ff000, ptep + PTX(PGSIZE) = f03ff004
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
should be able to change permissions too.
page_insert start, pp = f0126fe8, va = 1000
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_insert, pt = 3ff007, ptpa = 3ff000
page_insert, there is page table = 3ff000 for va = 1000, PTE_ADDR(pte) = f03ff000
page_insert, the page mapped at va has page = 3fd003, remove it
page_remove start, va = 1000
PDX(va) = 0, pgdir[0] = 3ff007, ptpa = 3ff000
page_remove, pagelookup start, pgdir = f0123000, va = 1000
page_lookup start, va = 1000, pte_store = 0
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_lookup, pte = f03ff004, *pte = 3fd003
page_lookup, temp = 3fd003, pg = f0126fe8
page_lookup end
page_remove, va = 1000 corrsponding with pgInfo = f0126fe8
page_remove, pt = f03ff000, ptepa = 3fd000
page_remove, ptepa = 3fd000 is not NULL, set pte to 0
page_decref start, pp = f0126fe8, ref = 1
page_decref end, pp = f0126fe8, ref = 0
page_remove end
page_insert, insert page = 3fd000 to pt for va = 1000
PTX(va) = 1, pt[1] = 3fd007
page_free, pp = f0126fe8, pre = f0126fe8
page_free, find pp == pre
pp = f0126fe8, pp_ref = 1
page_insert end
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_insert start, pp = f0126fe8, va = 1000
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_insert, pt = 3ff007, ptpa = 3ff000
page_insert, there is page table = 3ff000 for va = 1000, PTE_ADDR(pte) = f03ff000
page_insert, the page mapped at va has page = 3fd007, remove it
page_remove start, va = 1000
PDX(va) = 0, pgdir[0] = 3ff007, ptpa = 3ff000
page_remove, pagelookup start, pgdir = f0123000, va = 1000
page_lookup start, va = 1000, pte_store = 0
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_lookup, pte = f03ff004, *pte = 3fd007
page_lookup, temp = 3fd007, pg = f0126fe8
page_lookup end
page_remove, va = 1000 corrsponding with pgInfo = f0126fe8
page_remove, pt = f03ff000, ptepa = 3fd000
page_remove, ptepa = 3fd000 is not NULL, set pte to 0
page_decref start, pp = f0126fe8, ref = 1
page_decref end, pp = f0126fe8, ref = 0
page_remove end
page_insert, insert page = 3fd000 to pt for va = 1000
PTX(va) = 1, pt[1] = 3fd003
page_free, pp = f0126fe8, pre = f0126fe8
page_free, find pp == pre
pp = f0126fe8, pp_ref = 1
page_insert end
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_insert start, pp = f0126ff8, va = 400000
pgdir_walk start
pgdir_walk, ptpa = 0, PDX(va) = 1
pgdir_walk, did not find pdr for va = 400000, return NULL
page_insert, pt = 0, ptpa = 0
page_insert, there is no page table for va, create one and adds it to the pgdir
alloc start
has no page to allocate
page_insert, alloc page for pt failure
page_insert start, pp = f0126ff0, va = 1000
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_insert, pt = 3ff007, ptpa = 3ff000
page_insert, there is page table = 3ff000 for va = 1000, PTE_ADDR(pte) = f03ff000
page_insert, the page mapped at va has page = 3fd003, remove it
page_remove start, va = 1000
PDX(va) = 0, pgdir[0] = 3ff007, ptpa = 3ff000
page_remove, pagelookup start, pgdir = f0123000, va = 1000
page_lookup start, va = 1000, pte_store = 0
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_lookup, pte = f03ff004, *pte = 3fd003
page_lookup, temp = 3fd003, pg = f0126fe8
page_lookup end
page_remove, va = 1000 corrsponding with pgInfo = f0126fe8
page_remove, pt = f03ff000, ptepa = 3fd000
page_remove, ptepa = 3fd000 is not NULL, set pte to 0
page_decref start, pp = f0126fe8, ref = 1
page_decref end, pp = f0126fe8, ref = 0
page_remove end
page_insert, insert page = 3fe000 to pt for va = 1000
PTX(va) = 1, pt[1] = 3fe003
page_free, pp = f0126ff0, pre = f0126fe8
pp = f0126ff0, pp_ref = 2
page_insert end
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
alloc start
page addr = f0126fe8, free_list->next = 0
page = f0126fe8, pgva = f03fd000
set page = f0126fe8 pp_link to NULL
alloc end
page_remove start, va = 0
PDX(va) = 0, pgdir[0] = 3ff007, ptpa = 3ff000
page_remove, pagelookup start, pgdir = f0123000, va = 0
page_lookup start, va = 0, pte_store = 0
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 0
pgdir_walk end, pte = f03ff000
page_lookup, pte = f03ff000, *pte = 3fe003
page_lookup, temp = 3fe003, pg = f0126ff0
page_lookup end
page_remove, va = 0 corrsponding with pgInfo = f0126ff0
page_remove, pt = f03ff000, ptepa = 3fe000
page_remove, ptepa = 3fe000 is not NULL, set pte to 0
page_decref start, pp = f0126ff0, ref = 2
page_decref end, pp = f0126ff0, ref = 1
page_remove end
page_insert start, pp = f0126ff0, va = 1000
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_insert, pt = 3ff007, ptpa = 3ff000
page_insert, there is page table = 3ff000 for va = 1000, PTE_ADDR(pte) = f03ff000
page_insert, the page mapped at va has page = 3fe003, remove it
page_remove start, va = 1000
PDX(va) = 0, pgdir[0] = 3ff007, ptpa = 3ff000
page_remove, pagelookup start, pgdir = f0123000, va = 1000
page_lookup start, va = 1000, pte_store = 0
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_lookup, pte = f03ff004, *pte = 3fe003
page_lookup, temp = 3fe003, pg = f0126ff0
page_lookup end
page_remove, va = 1000 corrsponding with pgInfo = f0126ff0
page_remove, pt = f03ff000, ptepa = 3fe000
page_remove, ptepa = 3fe000 is not NULL, set pte to 0
page_decref start, pp = f0126ff0, ref = 1
page_decref end, pp = f0126ff0, ref = 0
page_remove end
page_insert, insert page = 3fe000 to pt for va = 1000
PTX(va) = 1, pt[1] = 3fe001
page_free, pp = f0126ff0, pre = f0126ff0
page_free, find pp == pre
pp = f0126ff0, pp_ref = 1
page_insert end
page_remove start, va = 1000
PDX(va) = 0, pgdir[0] = 3ff007, ptpa = 3ff000
page_remove, pagelookup start, pgdir = f0123000, va = 1000
page_lookup start, va = 1000, pte_store = 0
pgdir_walk start
pgdir_walk, ptpa = 3ff000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
page_lookup, pte = f03ff004, *pte = 3fe001
page_lookup, temp = 3fe001, pg = f0126ff0
page_lookup end
page_remove, va = 1000 corrsponding with pgInfo = f0126ff0
page_remove, pt = f03ff000, ptepa = 3fe000
page_remove, ptepa = 3fe000 is not NULL, set pte to 0
page_decref start, pp = f0126ff0, ref = 1
page_decref end, pp = f0126ff0, ref = 0
page_remove end
alloc start
page addr = f0126ff0, free_list->next = 0
page = f0126ff0, pgva = f03fe000
set page = f0126ff0 pp_link to NULL
alloc end
alloc start
has no page to allocate
pgdir_walk start
pgdir_walk, ptpa = 0, PDX(va) = 1
alloc start
page addr = f0126ff8, free_list->next = 0
page = f0126ff8, pgva = f03ff000
alloc_flags = 1, set value of pgva = 0
set page = f0126ff8 pp_link to NULL
alloc end
pgdir_walk, new page for pt = 3ff000
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03ff004
pgdir_walk start
pgdir_walk, ptpa = 0, PDX(va) = 0
alloc start
page addr = f0126ff8, free_list->next = 0
page = f0126ff8, pgva = f03ff000
alloc_flags = 1, set value of pgva = 0
set page = f0126ff8 pp_link to NULL
alloc end
pgdir_walk, new page for pt = 3ff000
pgdir_walk, PTX = 0
pgdir_walk end, pte = f03ff000
check_page() succeeded!
check page end
alloc start
page addr = f0126fe8, free_list->next = f0126ff0
page = f0126fe8, pgva = f03fd000
alloc_flags = 1, set value of pgva = 0
set page = f0126fe8 pp_link to NULL
alloc end
paptstack = 0
alloc start
page addr = f0126ff0, free_list->next = f0126ff8
page = f0126ff0, pgva = f03fe000
alloc_flags = 1, set value of pgva = 0
set page = f0126ff0 pp_link to NULL
alloc end
alloc new page for stack, paptstack = 3fe000
bootstack = f0118000, PADDR(bootstack) = 118000
KSTACKTOP - KSTKSIZE + 0*PGSIZE = efff8000
PTX(KSTACKTOP - KSTKSIZE +  i*PGSIZE) = 3f8, ptstack[PTX] = 118003
RADDR(bootstack) = 118000, PADDR(bootstack) - 0*PGSIZE = 118000
KSTACKTOP - KSTKSIZE + 1*PGSIZE = efff9000
PTX(KSTACKTOP - KSTKSIZE +  i*PGSIZE) = 3f9, ptstack[PTX] = 119003
RADDR(bootstack) = 118000, PADDR(bootstack) - 1*PGSIZE = 117000
KSTACKTOP - KSTKSIZE + 2*PGSIZE = efffa000
PTX(KSTACKTOP - KSTKSIZE +  i*PGSIZE) = 3fa, ptstack[PTX] = 11a003
RADDR(bootstack) = 118000, PADDR(bootstack) - 2*PGSIZE = 116000
KSTACKTOP - KSTKSIZE + 3*PGSIZE = efffb000
PTX(KSTACKTOP - KSTKSIZE +  i*PGSIZE) = 3fb, ptstack[PTX] = 11b003
RADDR(bootstack) = 118000, PADDR(bootstack) - 3*PGSIZE = 115000
KSTACKTOP - KSTKSIZE + 4*PGSIZE = efffc000
PTX(KSTACKTOP - KSTKSIZE +  i*PGSIZE) = 3fc, ptstack[PTX] = 11c003
RADDR(bootstack) = 118000, PADDR(bootstack) - 4*PGSIZE = 114000
KSTACKTOP - KSTKSIZE + 5*PGSIZE = efffd000
PTX(KSTACKTOP - KSTKSIZE +  i*PGSIZE) = 3fd, ptstack[PTX] = 11d003
RADDR(bootstack) = 118000, PADDR(bootstack) - 5*PGSIZE = 113000
KSTACKTOP - KSTKSIZE + 6*PGSIZE = efffe000
PTX(KSTACKTOP - KSTKSIZE +  i*PGSIZE) = 3fe, ptstack[PTX] = 11e003
RADDR(bootstack) = 118000, PADDR(bootstack) - 6*PGSIZE = 112000
KSTACKTOP - KSTKSIZE + 7*PGSIZE = effff000
PTX(KSTACKTOP - KSTKSIZE +  i*PGSIZE) = 3ff, ptstack[PTX] = 11f003
RADDR(bootstack) = 118000, PADDR(bootstack) - 7*PGSIZE = 111000
pt = 0, PDX = 3c0
va = f0000000, PDX(0) = 3c0 has no page table in pgdir
alloc start
page addr = f0126ff8, free_list->next = f0126fe0
page = f0126ff8, pgva = f03ff000
alloc_flags = 1, set value of pgva = 0
set page = f0126ff8 pp_link to NULL
alloc end
PDX(f0000000) = 3c0, kern_pgdir[3c0] = 3ff003
alloc new page for pt = 3ff003
&kern_pgdir[PDX] = f0123f00, pt = f03ff000, va = f0000000, PDX(f0000000) = 3c0
kb - KERNBASE = 0
later kb = f0400000
pt = 0, PDX = 3c1
va = f0400000, PDX(0) = 3c1 has no page table in pgdir
alloc start
page addr = f0126fe0, free_list->next = f0126fd8
page = f0126fe0, pgva = f03fc000
alloc_flags = 1, set value of pgva = 0
set page = f0126fe0 pp_link to NULL
alloc end
PDX(f0400000) = 3c1, kern_pgdir[3c1] = 3fc003
alloc new page for pt = 3fc003
&kern_pgdir[PDX] = f0123f04, pt = f03fc000, va = f0400000, PDX(f0400000) = 3c1
kb - KERNBASE = 400000
later kb = f0800000
pt = 0, PDX = 3c2
va = f0800000, PDX(0) = 3c2 has no page table in pgdir
alloc start
page addr = f0126fd8, free_list->next = f0126fd0
page = f0126fd8, pgva = f03fb000
alloc_flags = 1, set value of pgva = 0
set page = f0126fd8 pp_link to NULL
alloc end
PDX(f0800000) = 3c2, kern_pgdir[3c2] = 3fb003
alloc new page for pt = 3fb003
&kern_pgdir[PDX] = f0123f08, pt = f03fb000, va = f0800000, PDX(f0800000) = 3c2
kb - KERNBASE = 800000
later kb = f0c00000
pt = 0, PDX = 3c3
va = f0c00000, PDX(0) = 3c3 has no page table in pgdir
alloc start
page addr = f0126fd0, free_list->next = f0126fc8
page = f0126fd0, pgva = f03fa000
alloc_flags = 1, set value of pgva = 0
set page = f0126fd0 pp_link to NULL
alloc end
PDX(f0c00000) = 3c3, kern_pgdir[3c3] = 3fa003
alloc new page for pt = 3fa003
&kern_pgdir[PDX] = f0123f0c, pt = f03fa000, va = f0c00000, PDX(f0c00000) = 3c3
kb - KERNBASE = c00000
later kb = f1000000
pt = 0, PDX = 3c4
va = f1000000, PDX(0) = 3c4 has no page table in pgdir
alloc start
page addr = f0126fc8, free_list->next = f0126fc0
page = f0126fc8, pgva = f03f9000
alloc_flags = 1, set value of pgva = 0
set page = f0126fc8 pp_link to NULL
alloc end
PDX(f1000000) = 3c4, kern_pgdir[3c4] = 3f9003
alloc new page for pt = 3f9003
&kern_pgdir[PDX] = f0123f10, pt = f03f9000, va = f1000000, PDX(f1000000) = 3c4
kb - KERNBASE = 1000000
later kb = f1400000
pt = 0, PDX = 3c5
va = f1400000, PDX(0) = 3c5 has no page table in pgdir
alloc start
page addr = f0126fc0, free_list->next = f0126fb8
page = f0126fc0, pgva = f03f8000
alloc_flags = 1, set value of pgva = 0
set page = f0126fc0 pp_link to NULL
alloc end
PDX(f1400000) = 3c5, kern_pgdir[3c5] = 3f8003
alloc new page for pt = 3f8003
&kern_pgdir[PDX] = f0123f14, pt = f03f8000, va = f1400000, PDX(f1400000) = 3c5
kb - KERNBASE = 1400000
later kb = f1800000
pt = 0, PDX = 3c6
va = f1800000, PDX(0) = 3c6 has no page table in pgdir
alloc start
page addr = f0126fb8, free_list->next = f0126fb0
page = f0126fb8, pgva = f03f7000
alloc_flags = 1, set value of pgva = 0
set page = f0126fb8 pp_link to NULL
alloc end
PDX(f1800000) = 3c6, kern_pgdir[3c6] = 3f7003
alloc new page for pt = 3f7003
&kern_pgdir[PDX] = f0123f18, pt = f03f7000, va = f1800000, PDX(f1800000) = 3c6
kb - KERNBASE = 1800000
later kb = f1c00000
pt = 0, PDX = 3c7
va = f1c00000, PDX(0) = 3c7 has no page table in pgdir
alloc start
page addr = f0126fb0, free_list->next = f0126fa8
page = f0126fb0, pgva = f03f6000
alloc_flags = 1, set value of pgva = 0
set page = f0126fb0 pp_link to NULL
alloc end
PDX(f1c00000) = 3c7, kern_pgdir[3c7] = 3f6003
alloc new page for pt = 3f6003
&kern_pgdir[PDX] = f0123f1c, pt = f03f6000, va = f1c00000, PDX(f1c00000) = 3c7
kb - KERNBASE = 1c00000
later kb = f2000000
pt = 0, PDX = 3c8
va = f2000000, PDX(0) = 3c8 has no page table in pgdir
alloc start
page addr = f0126fa8, free_list->next = f0126fa0
page = f0126fa8, pgva = f03f5000
alloc_flags = 1, set value of pgva = 0
set page = f0126fa8 pp_link to NULL
alloc end
PDX(f2000000) = 3c8, kern_pgdir[3c8] = 3f5003
alloc new page for pt = 3f5003
&kern_pgdir[PDX] = f0123f20, pt = f03f5000, va = f2000000, PDX(f2000000) = 3c8
kb - KERNBASE = 2000000
later kb = f2400000
pt = 0, PDX = 3c9
va = f2400000, PDX(0) = 3c9 has no page table in pgdir
alloc start
page addr = f0126fa0, free_list->next = f0126f98
page = f0126fa0, pgva = f03f4000
alloc_flags = 1, set value of pgva = 0
set page = f0126fa0 pp_link to NULL
alloc end
PDX(f2400000) = 3c9, kern_pgdir[3c9] = 3f4003
alloc new page for pt = 3f4003
&kern_pgdir[PDX] = f0123f24, pt = f03f4000, va = f2400000, PDX(f2400000) = 3c9
kb - KERNBASE = 2400000
later kb = f2800000
pt = 0, PDX = 3ca
va = f2800000, PDX(0) = 3ca has no page table in pgdir
alloc start
page addr = f0126f98, free_list->next = f0126f90
page = f0126f98, pgva = f03f3000
alloc_flags = 1, set value of pgva = 0
set page = f0126f98 pp_link to NULL
alloc end
PDX(f2800000) = 3ca, kern_pgdir[3ca] = 3f3003
alloc new page for pt = 3f3003
&kern_pgdir[PDX] = f0123f28, pt = f03f3000, va = f2800000, PDX(f2800000) = 3ca
kb - KERNBASE = 2800000
later kb = f2c00000
pt = 0, PDX = 3cb
va = f2c00000, PDX(0) = 3cb has no page table in pgdir
alloc start
page addr = f0126f90, free_list->next = f0126f88
page = f0126f90, pgva = f03f2000
alloc_flags = 1, set value of pgva = 0
set page = f0126f90 pp_link to NULL
alloc end
PDX(f2c00000) = 3cb, kern_pgdir[3cb] = 3f2003
alloc new page for pt = 3f2003
&kern_pgdir[PDX] = f0123f2c, pt = f03f2000, va = f2c00000, PDX(f2c00000) = 3cb
kb - KERNBASE = 2c00000
later kb = f3000000
pt = 0, PDX = 3cc
va = f3000000, PDX(0) = 3cc has no page table in pgdir
alloc start
page addr = f0126f88, free_list->next = f0126f80
page = f0126f88, pgva = f03f1000
alloc_flags = 1, set value of pgva = 0
set page = f0126f88 pp_link to NULL
alloc end
PDX(f3000000) = 3cc, kern_pgdir[3cc] = 3f1003
alloc new page for pt = 3f1003
&kern_pgdir[PDX] = f0123f30, pt = f03f1000, va = f3000000, PDX(f3000000) = 3cc
kb - KERNBASE = 3000000
later kb = f3400000
pt = 0, PDX = 3cd
va = f3400000, PDX(0) = 3cd has no page table in pgdir
alloc start
page addr = f0126f80, free_list->next = f0126f78
page = f0126f80, pgva = f03f0000
alloc_flags = 1, set value of pgva = 0
set page = f0126f80 pp_link to NULL
alloc end
PDX(f3400000) = 3cd, kern_pgdir[3cd] = 3f0003
alloc new page for pt = 3f0003
&kern_pgdir[PDX] = f0123f34, pt = f03f0000, va = f3400000, PDX(f3400000) = 3cd
kb - KERNBASE = 3400000
later kb = f3800000
pt = 0, PDX = 3ce
va = f3800000, PDX(0) = 3ce has no page table in pgdir
alloc start
page addr = f0126f78, free_list->next = f0126f70
page = f0126f78, pgva = f03ef000
alloc_flags = 1, set value of pgva = 0
set page = f0126f78 pp_link to NULL
alloc end
PDX(f3800000) = 3ce, kern_pgdir[3ce] = 3ef003
alloc new page for pt = 3ef003
&kern_pgdir[PDX] = f0123f38, pt = f03ef000, va = f3800000, PDX(f3800000) = 3ce
kb - KERNBASE = 3800000
later kb = f3c00000
pt = 0, PDX = 3cf
va = f3c00000, PDX(0) = 3cf has no page table in pgdir
alloc start
page addr = f0126f70, free_list->next = f0126f68
page = f0126f70, pgva = f03ee000
alloc_flags = 1, set value of pgva = 0
set page = f0126f70 pp_link to NULL
alloc end
PDX(f3c00000) = 3cf, kern_pgdir[3cf] = 3ee003
alloc new page for pt = 3ee003
&kern_pgdir[PDX] = f0123f3c, pt = f03ee000, va = f3c00000, PDX(f3c00000) = 3cf
kb - KERNBASE = 3c00000
later kb = f4000000
pt = 0, PDX = 3d0
va = f4000000, PDX(0) = 3d0 has no page table in pgdir
alloc start
page addr = f0126f68, free_list->next = f0126f60
page = f0126f68, pgva = f03ed000
alloc_flags = 1, set value of pgva = 0
set page = f0126f68 pp_link to NULL
alloc end
PDX(f4000000) = 3d0, kern_pgdir[3d0] = 3ed003
alloc new page for pt = 3ed003
&kern_pgdir[PDX] = f0123f40, pt = f03ed000, va = f4000000, PDX(f4000000) = 3d0
kb - KERNBASE = 4000000
later kb = f4400000
pt = 0, PDX = 3d1
va = f4400000, PDX(0) = 3d1 has no page table in pgdir
alloc start
page addr = f0126f60, free_list->next = f0126f58
page = f0126f60, pgva = f03ec000
alloc_flags = 1, set value of pgva = 0
set page = f0126f60 pp_link to NULL
alloc end
PDX(f4400000) = 3d1, kern_pgdir[3d1] = 3ec003
alloc new page for pt = 3ec003
&kern_pgdir[PDX] = f0123f44, pt = f03ec000, va = f4400000, PDX(f4400000) = 3d1
kb - KERNBASE = 4400000
later kb = f4800000
pt = 0, PDX = 3d2
va = f4800000, PDX(0) = 3d2 has no page table in pgdir
alloc start
page addr = f0126f58, free_list->next = f0126f50
page = f0126f58, pgva = f03eb000
alloc_flags = 1, set value of pgva = 0
set page = f0126f58 pp_link to NULL
alloc end
PDX(f4800000) = 3d2, kern_pgdir[3d2] = 3eb003
alloc new page for pt = 3eb003
&kern_pgdir[PDX] = f0123f48, pt = f03eb000, va = f4800000, PDX(f4800000) = 3d2
kb - KERNBASE = 4800000
later kb = f4c00000
pt = 0, PDX = 3d3
va = f4c00000, PDX(0) = 3d3 has no page table in pgdir
alloc start
page addr = f0126f50, free_list->next = f0126f48
page = f0126f50, pgva = f03ea000
alloc_flags = 1, set value of pgva = 0
set page = f0126f50 pp_link to NULL
alloc end
PDX(f4c00000) = 3d3, kern_pgdir[3d3] = 3ea003
alloc new page for pt = 3ea003
&kern_pgdir[PDX] = f0123f4c, pt = f03ea000, va = f4c00000, PDX(f4c00000) = 3d3
kb - KERNBASE = 4c00000
later kb = f5000000
pt = 0, PDX = 3d4
va = f5000000, PDX(0) = 3d4 has no page table in pgdir
alloc start
page addr = f0126f48, free_list->next = f0126f40
page = f0126f48, pgva = f03e9000
alloc_flags = 1, set value of pgva = 0
set page = f0126f48 pp_link to NULL
alloc end
PDX(f5000000) = 3d4, kern_pgdir[3d4] = 3e9003
alloc new page for pt = 3e9003
&kern_pgdir[PDX] = f0123f50, pt = f03e9000, va = f5000000, PDX(f5000000) = 3d4
kb - KERNBASE = 5000000
later kb = f5400000
pt = 0, PDX = 3d5
va = f5400000, PDX(0) = 3d5 has no page table in pgdir
alloc start
page addr = f0126f40, free_list->next = f0126f38
page = f0126f40, pgva = f03e8000
alloc_flags = 1, set value of pgva = 0
set page = f0126f40 pp_link to NULL
alloc end
PDX(f5400000) = 3d5, kern_pgdir[3d5] = 3e8003
alloc new page for pt = 3e8003
&kern_pgdir[PDX] = f0123f54, pt = f03e8000, va = f5400000, PDX(f5400000) = 3d5
kb - KERNBASE = 5400000
later kb = f5800000
pt = 0, PDX = 3d6
va = f5800000, PDX(0) = 3d6 has no page table in pgdir
alloc start
page addr = f0126f38, free_list->next = f0126f30
page = f0126f38, pgva = f03e7000
alloc_flags = 1, set value of pgva = 0
set page = f0126f38 pp_link to NULL
alloc end
PDX(f5800000) = 3d6, kern_pgdir[3d6] = 3e7003
alloc new page for pt = 3e7003
&kern_pgdir[PDX] = f0123f58, pt = f03e7000, va = f5800000, PDX(f5800000) = 3d6
kb - KERNBASE = 5800000
later kb = f5c00000
pt = 0, PDX = 3d7
va = f5c00000, PDX(0) = 3d7 has no page table in pgdir
alloc start
page addr = f0126f30, free_list->next = f0126f28
page = f0126f30, pgva = f03e6000
alloc_flags = 1, set value of pgva = 0
set page = f0126f30 pp_link to NULL
alloc end
PDX(f5c00000) = 3d7, kern_pgdir[3d7] = 3e6003
alloc new page for pt = 3e6003
&kern_pgdir[PDX] = f0123f5c, pt = f03e6000, va = f5c00000, PDX(f5c00000) = 3d7
kb - KERNBASE = 5c00000
later kb = f6000000
pt = 0, PDX = 3d8
va = f6000000, PDX(0) = 3d8 has no page table in pgdir
alloc start
page addr = f0126f28, free_list->next = f0126f20
page = f0126f28, pgva = f03e5000
alloc_flags = 1, set value of pgva = 0
set page = f0126f28 pp_link to NULL
alloc end
PDX(f6000000) = 3d8, kern_pgdir[3d8] = 3e5003
alloc new page for pt = 3e5003
&kern_pgdir[PDX] = f0123f60, pt = f03e5000, va = f6000000, PDX(f6000000) = 3d8
kb - KERNBASE = 6000000
later kb = f6400000
pt = 0, PDX = 3d9
va = f6400000, PDX(0) = 3d9 has no page table in pgdir
alloc start
page addr = f0126f20, free_list->next = f0126f18
page = f0126f20, pgva = f03e4000
alloc_flags = 1, set value of pgva = 0
set page = f0126f20 pp_link to NULL
alloc end
PDX(f6400000) = 3d9, kern_pgdir[3d9] = 3e4003
alloc new page for pt = 3e4003
&kern_pgdir[PDX] = f0123f64, pt = f03e4000, va = f6400000, PDX(f6400000) = 3d9
kb - KERNBASE = 6400000
later kb = f6800000
pt = 0, PDX = 3da
va = f6800000, PDX(0) = 3da has no page table in pgdir
alloc start
page addr = f0126f18, free_list->next = f0126f10
page = f0126f18, pgva = f03e3000
alloc_flags = 1, set value of pgva = 0
set page = f0126f18 pp_link to NULL
alloc end
PDX(f6800000) = 3da, kern_pgdir[3da] = 3e3003
alloc new page for pt = 3e3003
&kern_pgdir[PDX] = f0123f68, pt = f03e3000, va = f6800000, PDX(f6800000) = 3da
kb - KERNBASE = 6800000
later kb = f6c00000
pt = 0, PDX = 3db
va = f6c00000, PDX(0) = 3db has no page table in pgdir
alloc start
page addr = f0126f10, free_list->next = f0126f08
page = f0126f10, pgva = f03e2000
alloc_flags = 1, set value of pgva = 0
set page = f0126f10 pp_link to NULL
alloc end
PDX(f6c00000) = 3db, kern_pgdir[3db] = 3e2003
alloc new page for pt = 3e2003
&kern_pgdir[PDX] = f0123f6c, pt = f03e2000, va = f6c00000, PDX(f6c00000) = 3db
kb - KERNBASE = 6c00000
later kb = f7000000
pt = 0, PDX = 3dc
va = f7000000, PDX(0) = 3dc has no page table in pgdir
alloc start
page addr = f0126f08, free_list->next = f0126f00
page = f0126f08, pgva = f03e1000
alloc_flags = 1, set value of pgva = 0
set page = f0126f08 pp_link to NULL
alloc end
PDX(f7000000) = 3dc, kern_pgdir[3dc] = 3e1003
alloc new page for pt = 3e1003
&kern_pgdir[PDX] = f0123f70, pt = f03e1000, va = f7000000, PDX(f7000000) = 3dc
kb - KERNBASE = 7000000
later kb = f7400000
pt = 0, PDX = 3dd
va = f7400000, PDX(0) = 3dd has no page table in pgdir
alloc start
page addr = f0126f00, free_list->next = f0126ef8
page = f0126f00, pgva = f03e0000
alloc_flags = 1, set value of pgva = 0
set page = f0126f00 pp_link to NULL
alloc end
PDX(f7400000) = 3dd, kern_pgdir[3dd] = 3e0003
alloc new page for pt = 3e0003
&kern_pgdir[PDX] = f0123f74, pt = f03e0000, va = f7400000, PDX(f7400000) = 3dd
kb - KERNBASE = 7400000
later kb = f7800000
pt = 0, PDX = 3de
va = f7800000, PDX(0) = 3de has no page table in pgdir
alloc start
page addr = f0126ef8, free_list->next = f0126ef0
page = f0126ef8, pgva = f03df000
alloc_flags = 1, set value of pgva = 0
set page = f0126ef8 pp_link to NULL
alloc end
PDX(f7800000) = 3de, kern_pgdir[3de] = 3df003
alloc new page for pt = 3df003
&kern_pgdir[PDX] = f0123f78, pt = f03df000, va = f7800000, PDX(f7800000) = 3de
kb - KERNBASE = 7800000
later kb = f7c00000
pt = 0, PDX = 3df
va = f7c00000, PDX(0) = 3df has no page table in pgdir
alloc start
page addr = f0126ef0, free_list->next = f0126ee8
page = f0126ef0, pgva = f03de000
alloc_flags = 1, set value of pgva = 0
set page = f0126ef0 pp_link to NULL
alloc end
PDX(f7c00000) = 3df, kern_pgdir[3df] = 3de003
alloc new page for pt = 3de003
&kern_pgdir[PDX] = f0123f7c, pt = f03de000, va = f7c00000, PDX(f7c00000) = 3df
kb - KERNBASE = 7c00000
later kb = f8000000
pt = 0, PDX = 3e0
va = f8000000, PDX(0) = 3e0 has no page table in pgdir
alloc start
page addr = f0126ee8, free_list->next = f0126ee0
page = f0126ee8, pgva = f03dd000
alloc_flags = 1, set value of pgva = 0
set page = f0126ee8 pp_link to NULL
alloc end
PDX(f8000000) = 3e0, kern_pgdir[3e0] = 3dd003
alloc new page for pt = 3dd003
&kern_pgdir[PDX] = f0123f80, pt = f03dd000, va = f8000000, PDX(f8000000) = 3e0
kb - KERNBASE = 8000000
later kb = f8400000
pt = 0, PDX = 3e1
va = f8400000, PDX(0) = 3e1 has no page table in pgdir
alloc start
page addr = f0126ee0, free_list->next = f0126ed8
page = f0126ee0, pgva = f03dc000
alloc_flags = 1, set value of pgva = 0
set page = f0126ee0 pp_link to NULL
alloc end
PDX(f8400000) = 3e1, kern_pgdir[3e1] = 3dc003
alloc new page for pt = 3dc003
&kern_pgdir[PDX] = f0123f84, pt = f03dc000, va = f8400000, PDX(f8400000) = 3e1
kb - KERNBASE = 8400000
later kb = f8800000
pt = 0, PDX = 3e2
va = f8800000, PDX(0) = 3e2 has no page table in pgdir
alloc start
page addr = f0126ed8, free_list->next = f0126ed0
page = f0126ed8, pgva = f03db000
alloc_flags = 1, set value of pgva = 0
set page = f0126ed8 pp_link to NULL
alloc end
PDX(f8800000) = 3e2, kern_pgdir[3e2] = 3db003
alloc new page for pt = 3db003
&kern_pgdir[PDX] = f0123f88, pt = f03db000, va = f8800000, PDX(f8800000) = 3e2
kb - KERNBASE = 8800000
later kb = f8c00000
pt = 0, PDX = 3e3
va = f8c00000, PDX(0) = 3e3 has no page table in pgdir
alloc start
page addr = f0126ed0, free_list->next = f0126ec8
page = f0126ed0, pgva = f03da000
alloc_flags = 1, set value of pgva = 0
set page = f0126ed0 pp_link to NULL
alloc end
PDX(f8c00000) = 3e3, kern_pgdir[3e3] = 3da003
alloc new page for pt = 3da003
&kern_pgdir[PDX] = f0123f8c, pt = f03da000, va = f8c00000, PDX(f8c00000) = 3e3
kb - KERNBASE = 8c00000
later kb = f9000000
pt = 0, PDX = 3e4
va = f9000000, PDX(0) = 3e4 has no page table in pgdir
alloc start
page addr = f0126ec8, free_list->next = f0126ec0
page = f0126ec8, pgva = f03d9000
alloc_flags = 1, set value of pgva = 0
set page = f0126ec8 pp_link to NULL
alloc end
PDX(f9000000) = 3e4, kern_pgdir[3e4] = 3d9003
alloc new page for pt = 3d9003
&kern_pgdir[PDX] = f0123f90, pt = f03d9000, va = f9000000, PDX(f9000000) = 3e4
kb - KERNBASE = 9000000
later kb = f9400000
pt = 0, PDX = 3e5
va = f9400000, PDX(0) = 3e5 has no page table in pgdir
alloc start
page addr = f0126ec0, free_list->next = f0126eb8
page = f0126ec0, pgva = f03d8000
alloc_flags = 1, set value of pgva = 0
set page = f0126ec0 pp_link to NULL
alloc end
PDX(f9400000) = 3e5, kern_pgdir[3e5] = 3d8003
alloc new page for pt = 3d8003
&kern_pgdir[PDX] = f0123f94, pt = f03d8000, va = f9400000, PDX(f9400000) = 3e5
kb - KERNBASE = 9400000
later kb = f9800000
pt = 0, PDX = 3e6
va = f9800000, PDX(0) = 3e6 has no page table in pgdir
alloc start
page addr = f0126eb8, free_list->next = f0126eb0
page = f0126eb8, pgva = f03d7000
alloc_flags = 1, set value of pgva = 0
set page = f0126eb8 pp_link to NULL
alloc end
PDX(f9800000) = 3e6, kern_pgdir[3e6] = 3d7003
alloc new page for pt = 3d7003
&kern_pgdir[PDX] = f0123f98, pt = f03d7000, va = f9800000, PDX(f9800000) = 3e6
kb - KERNBASE = 9800000
later kb = f9c00000
pt = 0, PDX = 3e7
va = f9c00000, PDX(0) = 3e7 has no page table in pgdir
alloc start
page addr = f0126eb0, free_list->next = f0126ea8
page = f0126eb0, pgva = f03d6000
alloc_flags = 1, set value of pgva = 0
set page = f0126eb0 pp_link to NULL
alloc end
PDX(f9c00000) = 3e7, kern_pgdir[3e7] = 3d6003
alloc new page for pt = 3d6003
&kern_pgdir[PDX] = f0123f9c, pt = f03d6000, va = f9c00000, PDX(f9c00000) = 3e7
kb - KERNBASE = 9c00000
later kb = fa000000
pt = 0, PDX = 3e8
va = fa000000, PDX(0) = 3e8 has no page table in pgdir
alloc start
page addr = f0126ea8, free_list->next = f0126ea0
page = f0126ea8, pgva = f03d5000
alloc_flags = 1, set value of pgva = 0
set page = f0126ea8 pp_link to NULL
alloc end
PDX(fa000000) = 3e8, kern_pgdir[3e8] = 3d5003
alloc new page for pt = 3d5003
&kern_pgdir[PDX] = f0123fa0, pt = f03d5000, va = fa000000, PDX(fa000000) = 3e8
kb - KERNBASE = a000000
later kb = fa400000
pt = 0, PDX = 3e9
va = fa400000, PDX(0) = 3e9 has no page table in pgdir
alloc start
page addr = f0126ea0, free_list->next = f0126e98
page = f0126ea0, pgva = f03d4000
alloc_flags = 1, set value of pgva = 0
set page = f0126ea0 pp_link to NULL
alloc end
PDX(fa400000) = 3e9, kern_pgdir[3e9] = 3d4003
alloc new page for pt = 3d4003
&kern_pgdir[PDX] = f0123fa4, pt = f03d4000, va = fa400000, PDX(fa400000) = 3e9
kb - KERNBASE = a400000
later kb = fa800000
pt = 0, PDX = 3ea
va = fa800000, PDX(0) = 3ea has no page table in pgdir
alloc start
page addr = f0126e98, free_list->next = f0126e90
page = f0126e98, pgva = f03d3000
alloc_flags = 1, set value of pgva = 0
set page = f0126e98 pp_link to NULL
alloc end
PDX(fa800000) = 3ea, kern_pgdir[3ea] = 3d3003
alloc new page for pt = 3d3003
&kern_pgdir[PDX] = f0123fa8, pt = f03d3000, va = fa800000, PDX(fa800000) = 3ea
kb - KERNBASE = a800000
later kb = fac00000
pt = 0, PDX = 3eb
va = fac00000, PDX(0) = 3eb has no page table in pgdir
alloc start
page addr = f0126e90, free_list->next = f0126e88
page = f0126e90, pgva = f03d2000
alloc_flags = 1, set value of pgva = 0
set page = f0126e90 pp_link to NULL
alloc end
PDX(fac00000) = 3eb, kern_pgdir[3eb] = 3d2003
alloc new page for pt = 3d2003
&kern_pgdir[PDX] = f0123fac, pt = f03d2000, va = fac00000, PDX(fac00000) = 3eb
kb - KERNBASE = ac00000
later kb = fb000000
pt = 0, PDX = 3ec
va = fb000000, PDX(0) = 3ec has no page table in pgdir
alloc start
page addr = f0126e88, free_list->next = f0126e80
page = f0126e88, pgva = f03d1000
alloc_flags = 1, set value of pgva = 0
set page = f0126e88 pp_link to NULL
alloc end
PDX(fb000000) = 3ec, kern_pgdir[3ec] = 3d1003
alloc new page for pt = 3d1003
&kern_pgdir[PDX] = f0123fb0, pt = f03d1000, va = fb000000, PDX(fb000000) = 3ec
kb - KERNBASE = b000000
later kb = fb400000
pt = 0, PDX = 3ed
va = fb400000, PDX(0) = 3ed has no page table in pgdir
alloc start
page addr = f0126e80, free_list->next = f0126e78
page = f0126e80, pgva = f03d0000
alloc_flags = 1, set value of pgva = 0
set page = f0126e80 pp_link to NULL
alloc end
PDX(fb400000) = 3ed, kern_pgdir[3ed] = 3d0003
alloc new page for pt = 3d0003
&kern_pgdir[PDX] = f0123fb4, pt = f03d0000, va = fb400000, PDX(fb400000) = 3ed
kb - KERNBASE = b400000
later kb = fb800000
pt = 0, PDX = 3ee
va = fb800000, PDX(0) = 3ee has no page table in pgdir
alloc start
page addr = f0126e78, free_list->next = f0126e70
page = f0126e78, pgva = f03cf000
alloc_flags = 1, set value of pgva = 0
set page = f0126e78 pp_link to NULL
alloc end
PDX(fb800000) = 3ee, kern_pgdir[3ee] = 3cf003
alloc new page for pt = 3cf003
&kern_pgdir[PDX] = f0123fb8, pt = f03cf000, va = fb800000, PDX(fb800000) = 3ee
kb - KERNBASE = b800000
later kb = fbc00000
pt = 0, PDX = 3ef
va = fbc00000, PDX(0) = 3ef has no page table in pgdir
alloc start
page addr = f0126e70, free_list->next = f0126e68
page = f0126e70, pgva = f03ce000
alloc_flags = 1, set value of pgva = 0
set page = f0126e70 pp_link to NULL
alloc end
PDX(fbc00000) = 3ef, kern_pgdir[3ef] = 3ce003
alloc new page for pt = 3ce003
&kern_pgdir[PDX] = f0123fbc, pt = f03ce000, va = fbc00000, PDX(fbc00000) = 3ef
kb - KERNBASE = bc00000
later kb = fc000000
pt = 0, PDX = 3f0
va = fc000000, PDX(0) = 3f0 has no page table in pgdir
alloc start
page addr = f0126e68, free_list->next = f0126e60
page = f0126e68, pgva = f03cd000
alloc_flags = 1, set value of pgva = 0
set page = f0126e68 pp_link to NULL
alloc end
PDX(fc000000) = 3f0, kern_pgdir[3f0] = 3cd003
alloc new page for pt = 3cd003
&kern_pgdir[PDX] = f0123fc0, pt = f03cd000, va = fc000000, PDX(fc000000) = 3f0
kb - KERNBASE = c000000
later kb = fc400000
pt = 0, PDX = 3f1
va = fc400000, PDX(0) = 3f1 has no page table in pgdir
alloc start
page addr = f0126e60, free_list->next = f0126e58
page = f0126e60, pgva = f03cc000
alloc_flags = 1, set value of pgva = 0
set page = f0126e60 pp_link to NULL
alloc end
PDX(fc400000) = 3f1, kern_pgdir[3f1] = 3cc003
alloc new page for pt = 3cc003
&kern_pgdir[PDX] = f0123fc4, pt = f03cc000, va = fc400000, PDX(fc400000) = 3f1
kb - KERNBASE = c400000
later kb = fc800000
pt = 0, PDX = 3f2
va = fc800000, PDX(0) = 3f2 has no page table in pgdir
alloc start
page addr = f0126e58, free_list->next = f0126e50
page = f0126e58, pgva = f03cb000
alloc_flags = 1, set value of pgva = 0
set page = f0126e58 pp_link to NULL
alloc end
PDX(fc800000) = 3f2, kern_pgdir[3f2] = 3cb003
alloc new page for pt = 3cb003
&kern_pgdir[PDX] = f0123fc8, pt = f03cb000, va = fc800000, PDX(fc800000) = 3f2
kb - KERNBASE = c800000
later kb = fcc00000
pt = 0, PDX = 3f3
va = fcc00000, PDX(0) = 3f3 has no page table in pgdir
alloc start
page addr = f0126e50, free_list->next = f0126e48
page = f0126e50, pgva = f03ca000
alloc_flags = 1, set value of pgva = 0
set page = f0126e50 pp_link to NULL
alloc end
PDX(fcc00000) = 3f3, kern_pgdir[3f3] = 3ca003
alloc new page for pt = 3ca003
&kern_pgdir[PDX] = f0123fcc, pt = f03ca000, va = fcc00000, PDX(fcc00000) = 3f3
kb - KERNBASE = cc00000
later kb = fd000000
pt = 0, PDX = 3f4
va = fd000000, PDX(0) = 3f4 has no page table in pgdir
alloc start
page addr = f0126e48, free_list->next = f0126e40
page = f0126e48, pgva = f03c9000
alloc_flags = 1, set value of pgva = 0
set page = f0126e48 pp_link to NULL
alloc end
PDX(fd000000) = 3f4, kern_pgdir[3f4] = 3c9003
alloc new page for pt = 3c9003
&kern_pgdir[PDX] = f0123fd0, pt = f03c9000, va = fd000000, PDX(fd000000) = 3f4
kb - KERNBASE = d000000
later kb = fd400000
pt = 0, PDX = 3f5
va = fd400000, PDX(0) = 3f5 has no page table in pgdir
alloc start
page addr = f0126e40, free_list->next = f0126e38
page = f0126e40, pgva = f03c8000
alloc_flags = 1, set value of pgva = 0
set page = f0126e40 pp_link to NULL
alloc end
PDX(fd400000) = 3f5, kern_pgdir[3f5] = 3c8003
alloc new page for pt = 3c8003
&kern_pgdir[PDX] = f0123fd4, pt = f03c8000, va = fd400000, PDX(fd400000) = 3f5
kb - KERNBASE = d400000
later kb = fd800000
pt = 0, PDX = 3f6
va = fd800000, PDX(0) = 3f6 has no page table in pgdir
alloc start
page addr = f0126e38, free_list->next = f0126e30
page = f0126e38, pgva = f03c7000
alloc_flags = 1, set value of pgva = 0
set page = f0126e38 pp_link to NULL
alloc end
PDX(fd800000) = 3f6, kern_pgdir[3f6] = 3c7003
alloc new page for pt = 3c7003
&kern_pgdir[PDX] = f0123fd8, pt = f03c7000, va = fd800000, PDX(fd800000) = 3f6
kb - KERNBASE = d800000
later kb = fdc00000
pt = 0, PDX = 3f7
va = fdc00000, PDX(0) = 3f7 has no page table in pgdir
alloc start
page addr = f0126e30, free_list->next = f0126e28
page = f0126e30, pgva = f03c6000
alloc_flags = 1, set value of pgva = 0
set page = f0126e30 pp_link to NULL
alloc end
PDX(fdc00000) = 3f7, kern_pgdir[3f7] = 3c6003
alloc new page for pt = 3c6003
&kern_pgdir[PDX] = f0123fdc, pt = f03c6000, va = fdc00000, PDX(fdc00000) = 3f7
kb - KERNBASE = dc00000
later kb = fe000000
pt = 0, PDX = 3f8
va = fe000000, PDX(0) = 3f8 has no page table in pgdir
alloc start
page addr = f0126e28, free_list->next = f0126e20
page = f0126e28, pgva = f03c5000
alloc_flags = 1, set value of pgva = 0
set page = f0126e28 pp_link to NULL
alloc end
PDX(fe000000) = 3f8, kern_pgdir[3f8] = 3c5003
alloc new page for pt = 3c5003
&kern_pgdir[PDX] = f0123fe0, pt = f03c5000, va = fe000000, PDX(fe000000) = 3f8
kb - KERNBASE = e000000
later kb = fe400000
pt = 0, PDX = 3f9
va = fe400000, PDX(0) = 3f9 has no page table in pgdir
alloc start
page addr = f0126e20, free_list->next = f0126e18
page = f0126e20, pgva = f03c4000
alloc_flags = 1, set value of pgva = 0
set page = f0126e20 pp_link to NULL
alloc end
PDX(fe400000) = 3f9, kern_pgdir[3f9] = 3c4003
alloc new page for pt = 3c4003
&kern_pgdir[PDX] = f0123fe4, pt = f03c4000, va = fe400000, PDX(fe400000) = 3f9
kb - KERNBASE = e400000
later kb = fe800000
pt = 0, PDX = 3fa
va = fe800000, PDX(0) = 3fa has no page table in pgdir
alloc start
page addr = f0126e18, free_list->next = f0126e10
page = f0126e18, pgva = f03c3000
alloc_flags = 1, set value of pgva = 0
set page = f0126e18 pp_link to NULL
alloc end
PDX(fe800000) = 3fa, kern_pgdir[3fa] = 3c3003
alloc new page for pt = 3c3003
&kern_pgdir[PDX] = f0123fe8, pt = f03c3000, va = fe800000, PDX(fe800000) = 3fa
kb - KERNBASE = e800000
later kb = fec00000
pt = 0, PDX = 3fb
va = fec00000, PDX(0) = 3fb has no page table in pgdir
alloc start
page addr = f0126e10, free_list->next = f0126e08
page = f0126e10, pgva = f03c2000
alloc_flags = 1, set value of pgva = 0
set page = f0126e10 pp_link to NULL
alloc end
PDX(fec00000) = 3fb, kern_pgdir[3fb] = 3c2003
alloc new page for pt = 3c2003
&kern_pgdir[PDX] = f0123fec, pt = f03c2000, va = fec00000, PDX(fec00000) = 3fb
kb - KERNBASE = ec00000
later kb = ff000000
pt = 0, PDX = 3fc
va = ff000000, PDX(0) = 3fc has no page table in pgdir
alloc start
page addr = f0126e08, free_list->next = f0126e00
page = f0126e08, pgva = f03c1000
alloc_flags = 1, set value of pgva = 0
set page = f0126e08 pp_link to NULL
alloc end
PDX(ff000000) = 3fc, kern_pgdir[3fc] = 3c1003
alloc new page for pt = 3c1003
&kern_pgdir[PDX] = f0123ff0, pt = f03c1000, va = ff000000, PDX(ff000000) = 3fc
kb - KERNBASE = f000000
later kb = ff400000
pt = 0, PDX = 3fd
va = ff400000, PDX(0) = 3fd has no page table in pgdir
alloc start
page addr = f0126e00, free_list->next = f0126df8
page = f0126e00, pgva = f03c0000
alloc_flags = 1, set value of pgva = 0
set page = f0126e00 pp_link to NULL
alloc end
PDX(ff400000) = 3fd, kern_pgdir[3fd] = 3c0003
alloc new page for pt = 3c0003
&kern_pgdir[PDX] = f0123ff4, pt = f03c0000, va = ff400000, PDX(ff400000) = 3fd
kb - KERNBASE = f400000
later kb = ff800000
pt = 0, PDX = 3fe
va = ff800000, PDX(0) = 3fe has no page table in pgdir
alloc start
page addr = f0126df8, free_list->next = f0126df0
page = f0126df8, pgva = f03bf000
alloc_flags = 1, set value of pgva = 0
set page = f0126df8 pp_link to NULL
alloc end
PDX(ff800000) = 3fe, kern_pgdir[3fe] = 3bf003
alloc new page for pt = 3bf003
&kern_pgdir[PDX] = f0123ff8, pt = f03bf000, va = ff800000, PDX(ff800000) = 3fe
kb - KERNBASE = f800000
later kb = ffc00000
pt = 0, PDX = 3ff
va = ffc00000, PDX(0) = 3ff has no page table in pgdir
alloc start
page addr = f0126df0, free_list->next = f0126de8
page = f0126df0, pgva = f03be000
alloc_flags = 1, set value of pgva = 0
set page = f0126df0 pp_link to NULL
alloc end
PDX(ffc00000) = 3ff, kern_pgdir[3ff] = 3be003
alloc new page for pt = 3be003
&kern_pgdir[PDX] = f0123ffc, pt = f03be000, va = ffc00000, PDX(ffc00000) = 3ff
kb - KERNBASE = fc00000
Top of kernel space
KSTACKTOP = f0000000, KSTKSIZE = 8000, KSTACKTOP - KSTKSIZE + 0 = efff8000
PADDR(bootstack) = 118000, PADDR + 0 = 118000
KSTACKTOP = f0000000, KSTKSIZE = 8000, KSTACKTOP - KSTKSIZE + 1000 = efff9000
PADDR(bootstack) = 118000, PADDR + 1000 = 119000
KSTACKTOP = f0000000, KSTKSIZE = 8000, KSTACKTOP - KSTKSIZE + 2000 = efffa000
PADDR(bootstack) = 118000, PADDR + 2000 = 11a000
KSTACKTOP = f0000000, KSTKSIZE = 8000, KSTACKTOP - KSTKSIZE + 3000 = efffb000
PADDR(bootstack) = 118000, PADDR + 3000 = 11b000
KSTACKTOP = f0000000, KSTKSIZE = 8000, KSTACKTOP - KSTKSIZE + 4000 = efffc000
PADDR(bootstack) = 118000, PADDR + 4000 = 11c000
KSTACKTOP = f0000000, KSTKSIZE = 8000, KSTACKTOP - KSTKSIZE + 5000 = efffd000
PADDR(bootstack) = 118000, PADDR + 5000 = 11d000
KSTACKTOP = f0000000, KSTKSIZE = 8000, KSTACKTOP - KSTKSIZE + 6000 = efffe000
PADDR(bootstack) = 118000, PADDR + 6000 = 11e000
KSTACKTOP = f0000000, KSTKSIZE = 8000, KSTACKTOP - KSTKSIZE + 7000 = effff000
PADDR(bootstack) = 118000, PADDR + 7000 = 11f000
check_kern_pgdir() succeeded!
lcr3 end, check page start
check page free list, page_free_list = f0126de8
nextfree initialize as f0165000
addr = f0165000, n = 0
check page free list, first free page = f0165000
check_page_free_list() succeeded!
check page end
lcr0 end, check page installed start
alloc start
page addr = f0126de8, free_list->next = f0126de0
page = f0126de8, pgva = f03bd000
set page = f0126de8 pp_link to NULL
alloc end
alloc start
page addr = f0126de0, free_list->next = f0126dd8
page = f0126de0, pgva = f03bc000
set page = f0126de0 pp_link to NULL
alloc end
alloc start
page addr = f0126dd8, free_list->next = f0126dd0
page = f0126dd8, pgva = f03bb000
set page = f0126dd8 pp_link to NULL
alloc end
check page install, page_inseart pp1 start
page_insert start, pp = f0126de0, va = 1000
pgdir_walk start
pgdir_walk, ptpa = 0, PDX(va) = 0
pgdir_walk, did not find pdr for va = 1000, return NULL
page_insert, pt = 0, ptpa = 0
page_insert, there is no page table for va, create one and adds it to the pgdir
alloc start
page addr = f0126de8, free_list->next = f0126dd0
page = f0126de8, pgva = f03bd000
alloc_flags = 1, set value of pgva = 0
set page = f0126de8 pp_link to NULL
alloc end
page_insert, alloc page = 3bd000 for pt
page_insert, PDX(va) = 0, pgdir[0] = 3bd007
page_insert, insert page = 3bc000 to pt for va = 1000
PTX(va) = 1, pt[1] = 3bc003
page_free, pp = f0126de0, pre = f0126dd0
pp = f0126de0, pp_ref = 1
page_insert end
check page install, page_inseart pp1 end
check page install, page_inseart pp2 start
page_insert start, pp = f0126dd8, va = 1000
pgdir_walk start
pgdir_walk, ptpa = 3bd000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03bd004
page_insert, pt = 3bd027, ptpa = 3bd000
page_insert, there is page table = 3bd000 for va = 1000, PTE_ADDR(pte) = f03bd000
page_insert, the page mapped at va has page = 3bc023, remove it
page_remove start, va = 1000
PDX(va) = 0, pgdir[0] = 3bd027, ptpa = 3bd000
page_remove, pagelookup start, pgdir = f0123000, va = 1000
page_lookup start, va = 1000, pte_store = 0
pgdir_walk start
pgdir_walk, ptpa = 3bd000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03bd004
page_lookup, pte = f03bd004, *pte = 3bc023
page_lookup, temp = 3bc023, pg = f0126de0
page_lookup end
page_remove, va = 1000 corrsponding with pgInfo = f0126de0
page_remove, pt = f03bd000, ptepa = 3bc000
page_remove, ptepa = 3bc000 is not NULL, set pte to 0
page_decref start, pp = f0126de0, ref = 1
page_decref end, pp = f0126de0, ref = 0
page_remove end
page_insert, insert page = 3bb000 to pt for va = 1000
PTX(va) = 1, pt[1] = 3bb003
page_free, pp = f0126dd8, pre = f0126de0
pp = f0126dd8, pp_ref = 1
page_insert end
check page install, page_inseart pp2 end
page_remove start, va = 1000
PDX(va) = 0, pgdir[0] = 3bd027, ptpa = 3bd000
page_remove, pagelookup start, pgdir = f0123000, va = 1000
page_lookup start, va = 1000, pte_store = 0
pgdir_walk start
pgdir_walk, ptpa = 3bd000, PDX(va) = 0
pgdir_walk, PTX = 1
pgdir_walk end, pte = f03bd004
page_lookup, pte = f03bd004, *pte = 3bb063
page_lookup, temp = 3bb063, pg = f0126dd8
page_lookup end
page_remove, va = 1000 corrsponding with pgInfo = f0126dd8
page_remove, pt = f03bd000, ptepa = 3bb000
page_remove, ptepa = 3bb000 is not NULL, set pte to 0
page_decref start, pp = f0126dd8, ref = 1
page_decref end, pp = f0126dd8, ref = 0
page_remove end
check_page_installed_pgdir() succeeded!
check page installed end
Welcome to the JOS kernel monitor!
Type 'help' for a list of commands.
K> QEMU: Terminated
